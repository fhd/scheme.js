<!DOCTYPE html>
<html>
    <head>
        <title>scheme.js read eval print loop</title>
        <style>
            input#expressionInput {
                width: 300px;
            }
        </style>
        <script src="scheme.js"></script>
    </head>
    <body>
        <input id="expressionInput" type="text"/>
        <button id="eval">Evaluate</button>
        <div id="output"/>
        <script>
            var evalButton = document.getElementById("eval"),
                env = new scheme.Environment,
                expressionInput = document.getElementById("expressionInput");
            evalButton.onclick = function() {
                var expression = expressionInput.value;
                document.getElementById("output").innerHTML +=
                    "> " + expression + "<br/>" +
                    scheme.eval(expression, env) + "<br/>";
                expressionInput.value = "";
                expressionInput.focus();
            };
            expressionInput.onkeypress = function(e) {
                if (!e)
                    var e = window.event;
                if (e.keyCode == 13)
                    evalButton.click();
            };
            expressionInput.focus();
        </script>
    </body>
</html>